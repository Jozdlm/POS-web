<div class="view-wrapper">
  <h1 class="fs-3 mb-3">Productos</h1>

  <!-- TODO: Make an accordions for each filter sections -->
  <div>
    <div class="d-flex justify-content-between">
      <div>
        <input
          type="text"
          placeholder="Buscar producto"
          [formControl]="searchControl"
          class="form-control form-control-sm mb-2"
        />
        <!-- TODO: Shows dinamicly the number of records -->
        <p class="small-text">
          Mostrando 50 productos de {{ productCount$ | async }}
        </p>
      </div>

      <div>
        <button class="btn btn-sm btn-outline-secondary">
          Filtrar
        </button>
        <button class="btn btn-sm btn-primary" routerLink="add">
          Nuevo Producto
        </button>
      </div>
    </div>
    <div>
      <div class="mb-3">
        <p class="fw-medium mb-1">Categor√≠as</p>
        <!-- TODO: Make the categories filter form  -->
        <form>
          @for (item of categories$ | async; track item.id) {
            <div class="form-check">
              <input
                type="checkbox"
                [id]="item.name"
                title="category checkbox"
                class="form-check-input"
              />
              <label [for]="item.name" class="form-check-label">
                {{ item.name }}
              </label>
            </div>
          }
        </form>
      </div>
      <label for="stockSelect" class="form-label">Existencias</label>
      <select
        class="form-select form-select-sm"
        aria-label="Stock select"
        id="stockSelect"
      >
        <option selected>Todos los registros</option>
        <option value="true">En existencia</option>
        <option value="false">Sin existencias</option>
      </select>
    </div>
    <div>
      <label for="stateSelect" class="form-label">Estado</label>
      <select
        class="form-select form-select-sm"
        aria-label="State select"
        id="stateSelect"
      >
        <option selected>Todos los registros</option>
        <option value="true">Activo</option>
        <option value="false">Inactivo</option>
      </select>
    </div>
    <div class="list-group">
      @for (item of products$ | async; track item.id) {
        <div
          class="list-group-item d-flex justify-content-between align-items-start"
        >
          <div class="ms-2 me-auto">
            <div class="fw-medium">{{ item.name }}</div>
            {{ item.barcode }}
          </div>
          <div>
            <span class="badge bg-success rounded-pill">{{
              item.isActive ? "Activo" : "Inactivo"
            }}</span>
            <p class="mb-0">{{ item.sellingPrice }}</p>
          </div>
        </div>
      }
    </div>
  </div>
</div>
