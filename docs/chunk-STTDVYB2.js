import{a as S}from"./chunk-4XK6EW7Y.js";import{a as K}from"./chunk-IYGD5RLS.js";import"./chunk-BJOKIBL3.js";import{a as j,b as f,c as L,d as G,f as B,i as $,j as P,k as q,l as U,m as H,o as z,p as J}from"./chunk-EEKLCBUA.js";import{e as D,g as V,h as k,l as O}from"./chunk-FXASF4B2.js";import{Ga as m,I as x,Jb as T,Na as E,Oa as w,Pa as o,Pb as h,Qa as i,Ra as d,U as a,Ua as b,W as p,Wa as s,Xa as R,Ya as A,a as _,bb as u,db as M,eb as N,fb as I,j as C,va as l,za as F}from"./chunk-FFFHX7KO.js";import"./chunk-JENGY3ED.js";import{a as g}from"./chunk-5FZOKLP6.js";var Y=(r,t)=>t.id,Z=r=>["edit",r];function ee(r,t){if(r&1&&(o(0,"div",5)(1,"div")(2,"p",6),s(3),i(),d(4,"span",7),i(),o(5,"div")(6,"a",8),s(7,"Editar"),i()()()),r&2){let v=t.$implicit;l(3),A(" ",v.name," "),l(1),m("recordStatus",v.isActive),l(2),m("routerLink",M(3,Z,v.id))}}var Q=(()=>{let t=class t{constructor(){this.schools$=a(S).getSchools()}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p({type:t,selectors:[["app-schools"]],standalone:!0,features:[u],decls:10,vars:2,consts:[[1,"wrapper"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"fs-3"],["routerLink","add",1,"btn","btn-primary"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"fw-medium","fs-5","mb-0"],[1,"badge","rounded-pill",3,"recordStatus"],[1,"btn",3,"routerLink"],["class","list-group-item d-flex justify-content-between align-items-center"]],template:function(e,c){e&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),s(3,"Centros Educativos"),i(),o(4,"a",3),s(5,"Crear colegio"),i()(),o(6,"div",4),E(7,ee,8,5,"div",9,Y),N(9,"async"),i()()),e&2&&w(7,I(9,0,c.schools$))},dependencies:[h,T,O,k,K],styles:[".wrapper[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;width:100%}"]});let r=t;return r})();var y=(()=>{let t=class t{constructor(){this._activatedRoute=a(D),this._router=a(V),this._schoolService=a(S),this._subscriptions=new _,this.pageTitle="Crear colegio",this.categoryId=null,this.schoolForm=a(z).nonNullable.group({name:["",[f.required,f.minLength(3)]],isActive:[!0,[f.required]]}),this._subscriptions.add(this.setInitialValues()),a(F).onDestroy(()=>this._subscriptions.unsubscribe())}setInitialValues(){return this._activatedRoute.paramMap.pipe(x(n=>{let e=n.get("id");return e?(this.pageTitle="Editar colegio",this.categoryId=parseInt(e),this._schoolService.getSchoolById(this.categoryId)):C(null)})).subscribe(n=>{n&&this.schoolForm.setValue({name:n.name,isActive:n.isActive})})}resetAndReturn(){this.schoolForm.reset(),this._router.navigateByUrl("schools")}onSubmitForm(){if(this.categoryId){let n=this.schoolForm.getRawValue();this._schoolService.updateSchool(g({},n),this.categoryId).subscribe({next:e=>this.resetAndReturn(),error:e=>console.error(e)})}else{let n=this.schoolForm.getRawValue();this._schoolService.createSchool(g({},n)).subscribe({next:e=>this.resetAndReturn(),error:e=>console.error(e)})}}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p({type:t,selectors:[["app-school-form"]],standalone:!0,features:[u],decls:21,vars:2,consts:[[1,"wrapper"],[1,"fs-3","mb-4"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"form-floating","mb-3"],["type","text","id","schoolName","placeholder","School Name","formControlName","name",1,"form-control"],["for","schoolName"],["id","schoolState","formControlName","isActive",1,"form-select"],["value","true"],["value","false"],["for","schoolState"],[1,"d-flex","justify-content-end","column-gap-2"],["type","button",1,"btn",3,"click"],["type","submit",1,"btn","btn-primary"]],template:function(e,c){e&1&&(o(0,"div",0)(1,"h1",1),s(2),i(),o(3,"form",2),b("ngSubmit",function(){return c.onSubmitForm()}),o(4,"div",3),d(5,"input",4),o(6,"label",5),s(7,"Centro educativo"),i()(),o(8,"div",3)(9,"select",6)(10,"option",7),s(11,"Activo"),i(),o(12,"option",8),s(13,"Inactivo"),i()(),o(14,"label",9),s(15,"Estado"),i()(),o(16,"div",10)(17,"button",11),b("click",function(){return c.resetAndReturn()}),s(18,"Cancelar"),i(),o(19,"button",12),s(20,"Guardar"),i()()()()),e&2&&(l(2),R(c.pageTitle),l(1),m("formGroup",c.schoolForm))},dependencies:[h,J,B,U,H,j,q,L,G,$,P],styles:[".wrapper[_ngcontent-%COMP%]{max-width:480px;margin:0 auto}"]});let r=t;return r})();var te=[{path:"",pathMatch:"full",component:Q},{path:"add",component:y},{path:"edit/:id",component:y},{path:"**",redirectTo:""}],xe=te;export{xe as default};
