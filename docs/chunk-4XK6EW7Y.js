import{a}from"./chunk-BJOKIBL3.js";import{N as f,U as d,Ub as u,i as s,n}from"./chunk-FFFHX7KO.js";var i=class{static toDto(t){return{name:t.name,is_active:t.isActive}}static toEntity(t){if(!t.id)throw new Error("The Id should be provided to map from Dto to Entity");return{id:t.id,name:t.name,isActive:t.is_active}}};var v=(()=>{let t=class t{constructor(){this._db=d(u).supabase}getSchools(){return s(this._db.from(a.SCHOOLS).select("*").order("id",{ascending:!0})).pipe(n(({data:r,error:e})=>{if(e)throw new Error(e.message);return r.map(o=>i.toEntity(o))}))}getSchoolById(r){return s(this._db.from(a.SCHOOLS).select("*").eq("id",r)).pipe(n(({data:e,error:o})=>{if(o)throw new Error(o.message);return i.toEntity(e[0])}))}createSchool(r){let e=i.toDto(r);return s(this._db.from(a.SCHOOLS).insert(e)).pipe(n(({status:o,error:c})=>{if(c)throw new Error(c.message);return o===201}))}updateSchool(r,e){let o=i.toDto(r);return s(this._db.from(a.SCHOOLS).update(o).eq("id",e)).pipe(n(({status:c,error:p})=>{if(p)throw new Error(p.message);return c===204}))}};t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"});let m=t;return m})();export{v as a};
